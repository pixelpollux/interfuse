(()=>{"use strict";const e=window.React,a=window.wp.element,n=window.wp.coreData,t=window.wp.i18n;function o(){return window.GiveCampaignOptions}window.wp.apiFetch;const i=(e,a)=>{switch(e){case"amount":case"amountFromSubscriptions":const{currency:e}=o(),n=function(e){return new Intl.NumberFormat(navigator.language,{style:"currency",currency:e})}(e);return n.format(a);default:return a}},c=({showImage:a,showGoal:n,showDescription:c,campaign:r})=>{const s=o();return(0,e.createElement)("div",{className:"give-campaigns-component-campaign",...r.pagePermalink&&!s.isAdmin&&{style:{cursor:"pointer"},onClick:()=>window.location=r.pagePermalink}},a&&r.image&&(0,e.createElement)("div",{style:{backgroundImage:`url(${r.image})`},className:"give-campaigns-component-campaign-image"}),(0,e.createElement)("div",{className:"give-campaigns-component-campaign-title"},r.title),c&&(0,e.createElement)("div",{className:"give-campaigns-component-campaign-description"},r.shortDescription),n&&(0,e.createElement)("div",{className:"give-campaigns-component-campaign__goal"},(0,e.createElement)("div",{className:"give-campaigns-component-campaign__goal-progress"},(0,e.createElement)("div",{className:"give-campaigns-component-campaign__goal-progress-container"},(0,e.createElement)("div",{className:"give-campaigns-component-campaign__goal-progress-bar",style:{width:`${r.goalStats.percentage}%`}}))),(0,e.createElement)("div",{className:"give-campaigns-component-campaign__goal-container"},(0,e.createElement)("div",{className:"give-campaigns-component-campaign__goal-container-item"},(0,e.createElement)("span",null,(e=>{switch(e){case"amount":return(0,t.__)("Amount raised","give");case"donations":return(0,t.__)("Number of donations","give");case"donors":return(0,t.__)("Number of donors","give");case"amountFromSubscriptions":return(0,t.__)("Recurring amount raised","give");case"subscriptions":return(0,t.__)("Number of recurring donations","give");case"donorsFromSubscriptions":return(0,t.__)("Number of recurring donors","give")}})(r.goalType)),(0,e.createElement)("strong",null,i(r.goalType,r.goalStats.actual))),(0,e.createElement)("div",{className:"give-campaigns-component-campaign__goal-container-item"},(0,e.createElement)("span",null,(0,t.__)("Our goal","give")),(0,e.createElement)("strong",null,i(r.goalType,r.goal))))))},r=({attributes:a})=>{const{campaign:t,hasResolved:o}=function(e){const a=(0,n.useEntityRecord)("givewp","campaign",e);return{campaign:{...a?.record},hasResolved:a?.hasResolved}}(a?.campaignId);return o?(0,e.createElement)(c,{campaign:t,showImage:a?.showImage,showDescription:a?.showDescription,showGoal:a?.showGoal}):null},s=document.querySelectorAll("[data-givewp-campaign-block]");s&&Array.from(s).map((n=>{const t=JSON.parse(n.dataset?.attributes);return(0,a.createRoot)(n).render((0,e.createElement)(r,{attributes:t}))}))})();